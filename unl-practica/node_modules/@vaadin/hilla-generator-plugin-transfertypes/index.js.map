{"mappings":"AAAA,OAAO,oDAAqD;AAG5D,OAAO,oBAAqB;AAE5B,eAAe,MAAM,4BAA4B,OAAO;CACtD,IAAa,OAAe;AAC1B,SAAO,OAAO,KAAK;CACpB;CAED,AAAS,QAAQ,EAAE,KAAK,EAAE,YAAY,EAAE,eAA8B,EAAQ;AAC5E,gBAAc,IAAI,+CAA+C,MAAM,GAAG,QAAQ,wBAAwB,OAAO,CAAC;AAElH,MAAI,YAAY,SAAS;AACvB,GAAC,WAA2C,UAAU,OAAO,YAC3D,OAAO,QAAQ,WAAW,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK,QAAQ,8CAA8C,CAC5G;EACF;CACF;AACF","names":[],"sources":["/opt/agent/work/1af72d8adc613024/hilla/packages/ts/generator-plugin-transfertypes/src/index.ts"],"sourcesContent":["import Plugin from '@vaadin/hilla-generator-core/Plugin.js';\nimport type { SharedStorage } from '@vaadin/hilla-generator-core/SharedStorage.js';\nimport type { Writable } from 'type-fest';\nimport ts from 'typescript';\n\nexport default class TransferTypesPlugin extends Plugin {\n  override get path(): string {\n    return import.meta.url;\n  }\n\n  override execute({ api: { components }, transferTypes }: SharedStorage): void {\n    transferTypes.set('com.vaadin.hilla.runtime.transfertypes.File', () => ts.factory.createTypeReferenceNode('File'));\n\n    if (components?.schemas) {\n      (components as Writable<typeof components>).schemas = Object.fromEntries(\n        Object.entries(components.schemas).filter(([key]) => key !== 'com.vaadin.hilla.runtime.transfertypes.File'),\n      );\n    }\n  }\n}\n"],"version":3}